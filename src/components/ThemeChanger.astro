<script is:inline>

// List of themes
// first time using arrays #cool #wow
const themes = ["eyecandy", "ctp-frappe" , "ctp-macchiato" , "ctp-mocha", "cityfog"];
const defaultTheme = "eyecandy";

function setTheme(theme) {
  document.body.classList.remove(...themes);
  document.body.classList.add(theme);
  localStorage.setItem("theme", theme);
}

function initTheme() {
  const savedTheme = localStorage.getItem("theme")
  setTheme(savedTheme || defaultTheme);
}

// this stuff is for astro page trations breaking theme changing
// not sure if its done right but im lowky stupid at following docs
document.addEventListener("DOMContentLoaded", initTheme);
document.addEventListener("astro:page-load", initTheme);

function resetTheme() {
  localStorage.removeItem("theme");
  setTheme(defaultTheme);
}

</script>